<!DOCTYPE html>
<html lang="{{ .Language.Lang }}" style="overflow-y: scroll;">
<head>
  {{ partial "head.html" . }}
</head>
<body class="bg-white dark:bg-gray-950 text-gray-900 dark:text-white transition-colors duration-200">

  <!-- Header -->
  {{ partial "header.html" . }}

  <!-- Legal Sub-Navigation mit Fixed Wrapper -->
  {{ $current := .RelPermalink }}
  {{ $isLegalPage := or (strings.HasPrefix $current "/de/impressum") (strings.HasPrefix $current "/de/datenschutz") (strings.HasPrefix $current "/de/cookies") (strings.HasPrefix $current "/imprint") (strings.HasPrefix $current "/privacy") (strings.Contains $current "/cookies") }}

  {{ if $isLegalPage }}
  <!-- Fixed Wrapper für Subheader mit grauem Background und hohem z-index -->
  <div style="position: fixed; top: 64px; left: 0; width: 100%; height: 50px; z-index: 9998; will-change: transform; transform: translateZ(0);" class="bg-gray-200 dark:bg-gray-800">
    {{ partial "legal-subnav.html" . }}
  </div>

  <!-- Spacer: 64px Header + 50px Subheader = 114px -->
  <div style="height: 114px;"></div>
  {{ else }}
  <!-- Spacer nur für Header wenn keine Legal Page -->
  <div style="height: 64px;"></div>
  {{ end }}

  <!-- Main Content - MONNINGHOFF Style: Cleaner, Smaller -->
  <main>
    <div class="max-w-[980px] mx-auto px-5 pt-6 pb-10">
      <!-- Headline – gleiche Höhe wie MPF (kleiner!) -->
      <h1 class="text-2xl font-bold text-left text-[#111] dark:text-white mt-0 mb-8">
        {{ .Title }}
      </h1>

      <!-- Nur Inhalt, kein weißer Kasten, basic prose -->
      <div class="prose max-w-none">
        <style>
          .prose a {
            text-decoration: none;
          }
          .prose a:hover {
            text-decoration: underline;
          }
          /* Dark mode text colors */
          .dark .prose p,
          .dark .prose li,
          .dark .prose td,
          .dark .prose th {
            color: #e5e5e5 !important;
          }
          .dark .prose h1,
          .dark .prose h2,
          .dark .prose h3,
          .dark .prose h4 {
            color: #ffffff !important;
          }
          .dark .prose strong {
            color: #ffffff !important;
          }
          .dark .prose a {
            color: #0066FF !important;
          }
          .dark .prose a:hover {
            color: #0052CC !important;
          }
          /* Email addresses should be light gray in dark mode */
          .dark .prose a[href^="mailto:"] {
            color: #e5e5e5 !important;
          }
          .dark .prose a[href^="mailto:"]:hover {
            color: #ffffff !important;
          }
        </style>
        {{ .Content }}
      </div>

      <!-- Back to Homepage Link - Apple Blue -->
      <div class="mt-12 pt-8 border-t border-gray-200 dark:border-gray-700">
        <a href="/" class="inline-flex items-center gap-2 text-[#0066FF] hover:text-[#0052CC] transition-colors text-base" style="text-decoration: none;">
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"/>
          </svg>
          {{ if eq .Language.Lang "de" }}Zurück zur Startseite{{ else }}Back to Homepage{{ end }}
        </a>
      </div>
    </div>
  </main>

  <!-- Footer -->
  {{ partial "footer.html" . }}

</body>
</html>
